@use '../susanoo';
@use '../grid/mixins' as grid;

.staging {
    --delay-lines: 0.6s;
    --delay-lines-travel: 0s;

    &.is-active {
        .social-links {
            &::before {
                height: 75%;
            }
        }
        .content,
        .letters {
            &::before {
                height: 100%;
                top: 0;
            }
        }
    }
    .grid {
        @include grid.grid();
    }
    .social-links {
        @include grid.grid-item();
        --columns: 1;
    }
    .content,
    .letters {
        position: relative;
        &::before,
        &::after {
            content: '';
            position: absolute;
            height: 0;
            width: var(--line-width);
            background: {
                color: var(--color-primary);
            }
        }
        &::before {
            transition: top 2.25s var(--delay-lines) linear, height 2.25s var(--delay-lines) ease-in-out;
        }
        &::after {
            animation: travel-line 4s var(--delay-lines-travel) ease-in-out infinite;
        }
    }
    .content {
        @include grid.grid-item-extend();
        --columns: 4;
        --column-start: 3;

        &::before {
            top: -100%;
            right: -1px;
        }
        &::after {
            --delay-lines-travel: 1s;

            left: calc(100% / var(--columns));
            @include susanoo.breakpoint(large) {
                left: calc(100% / var(--columns) - 3px);
            }
        }
    }
    .letters {
        @include grid.grid-item();
        --columns: 6;

        display: flex;
        flex: {
            direction: column;
        }
        justify-content: center;
        align-items: center;
        font: {
            size: susanoo.rem-calc(60);
        }
        &::before {
            top: -100%;
            right: -1px;
            transition: top 1.5s calc(var(--delay-lines) / 3) linear, height 1.5s calc(var(--delay-lines) / 3) ease-in-out;
        }
        &::after {
            height: 50%;
            left: 50%;
            transform: translateX(-50%);
            @include susanoo.breakpoint(large) {
                left: calc(50% - 2px);
            }
        }
    }
}

@keyframes travel-line {
    0% {
        top: -100%;
        height: 40%;
    }
    15% {
        top: 100%;
        height: 0;
    }
    100% {
        top: 100%;
        height: 0;
    }
}
